webpackJsonp([5],{"0FNB":function(e,t,i){"use strict";function o(e){return Object(r.a)({url:"/permission/getAllMenu"})}function n(e){return Object(r.a)({url:"/permission/deleMenu",method:"post",data:l.a.stringify(e)})}function s(e){return Object(r.a)({url:"/permission/addMenu",method:"post",data:l.a.stringify(e)})}t.c=o,t.b=n,t.a=s;var r=i("vLgD"),a=i("mw3O"),l=i.n(a)},"29Z3":function(e,t,i){t=e.exports=i("FZ+f")(!0),t.push([e.i,".dr-datatable{margin-bottom:1em}.permissionselect{min-width:1366px}.bigtype{width:250px}","",{version:3,sources:["C:/Users/Administrator/Desktop/git/web/ppxt-vue/src/views/permission/group.vue"],names:[],mappings:"AACA,cACE,iBAAmB,CACpB,AACD,kBACE,gBAAkB,CACnB,AACD,SACE,WAAa,CACd",file:"group.vue",sourcesContent:["\n.dr-datatable {\r\n  margin-bottom: 1em;\n}\n.permissionselect {\r\n  min-width: 1366px;\n}\n.bigtype {\r\n  width: 250px;\n}\r\n"],sourceRoot:""}])},Bv2s:function(e,t,i){var o=i("29Z3");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);i("rjj0")("f0ca1dce",o,!0)},U0c8:function(e,t,i){var o=i("k3bD");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);i("rjj0")("fde6e710",o,!0)},UH0y:function(e,t,i){"use strict";function o(e){i("U0c8")}var n=i("kuYD"),s=i("eA8O"),r=i("VU/8"),a=o,l=r(n.a,s.a,!1,a,null,null);t.a=l.exports},YlHh:function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-row",{staticClass:"dr-datatable"},[i("el-col",{attrs:{span:24}},[i("el-row",{staticClass:"dr-datatable"},[i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:e.addInfo}},[e._v("新建分组")])],1),e._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.groupInfo,border:""}},[i("el-table-column",{attrs:{prop:"role_id",label:"分组ID",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{prop:"role_name",label:"分组名称",width:"120"}}),e._v(" "),i("el-table-column",{attrs:{prop:"role_desc",label:"分组描述"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){e.permissionFormVisible=!0,e.permissionForm.role_id=e.groupInfo[t.$index].role_id}}},[e._v("权限设置")]),e._v(" "),i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){e.beforSetMenu(t.$index,e.groupInfo)}}},[e._v("路由设置")]),e._v(" "),i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){e.editGroup(t.$index,e.groupInfo)}}},[e._v("编辑")]),e._v(" "),i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){e.deleGroup(t.$index,e.groupInfo)}}},[e._v("删除")])]}}])})],1),e._v(" "),i("Pagination",{attrs:{pageType:"GetGroupnInfo",pageInfo:e.groupPage}})],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"编辑",visible:e.editdialogFormVisible,"before-close":e.beforeclose},on:{"update:visible":function(t){e.editdialogFormVisible=t}}},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.groupForm,rules:e.rules,"label-width":"120px"}},[i("el-form-item",{staticClass:"dr-submitContent",attrs:{label:"分组名称"}},[i("el-input",{attrs:{placeholder:"分组名称",size:"small"},model:{value:e.groupForm.role_name,callback:function(t){e.$set(e.groupForm,"role_name",t)},expression:"groupForm.role_name"}})],1),e._v(" "),i("el-form-item",{staticClass:"dr-submitContent",attrs:{label:"分组描述"}},[i("el-input",{attrs:{placeholder:"分组描述",size:"small"},model:{value:e.groupForm.role_desc,callback:function(t){e.$set(e.groupForm,"role_desc",t)},expression:"groupForm.role_desc"}})],1),e._v(" "),i("el-form-item",{staticClass:"dr-submitContent"},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addGroup}},[e._v("确定")]),e._v(" "),i("el-button",{attrs:{size:"small"},on:{click:function(t){e.editdialogFormVisible=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),i("el-dialog",{staticClass:"permissionselect",attrs:{title:"权限设置",visible:e.permissionFormVisible,"before-close":e.permissionbeforeclose},on:{"update:visible":function(t){e.permissionFormVisible=t}}},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.groupForm,rules:e.rules,"label-width":"120px"}},e._l(e.permissionList,function(t,o){return i("el-form-item",{key:o},[[i("el-transfer",{attrs:{filterable:"",props:{key:"value",label:"desc"},titles:[e.titleList[o][0],e.titleList[o][1]],"filter-placeholder":"请输入权限名称",data:t},on:{change:e.changePermission},model:{value:e.permissionForm.permissionId,callback:function(t){e.$set(e.permissionForm,"permissionId",t)},expression:"permissionForm.permissionId"}})]],2)})),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.permissionFormVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.setPermissionSure}},[e._v("确 定")])],1)],1),e._v(" "),i("el-dialog",{staticClass:"permissionselect",attrs:{title:"路由设置",visible:e.menuFormVisible,"before-close":e.permissionbeforeclose},on:{"update:visible":function(t){e.menuFormVisible=t}}},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.menuForm,rules:e.rules,"label-width":"120px"}},[i("el-form-item",[[i("el-transfer",{attrs:{props:{key:"value",label:"desc"},titles:e.titleList2,data:e.menuList},on:{change:e.changeMenu},model:{value:e.menuForm.menuId,callback:function(t){e.$set(e.menuForm,"menuId",t)},expression:"menuForm.menuId"}})]],2)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.menuFormVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.setMenuSure}},[e._v("确 定")])],1)],1)],1)},n=[],s={render:o,staticRenderFns:n};t.a=s},eA8O:function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"block dr-pagination"},[e.pageInfo?i("div",[i("el-pagination",{attrs:{"current-page":e.pageInfo.pageNum,"page-size":e.pageInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageInfo.totalItems},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()])},n=[],s={render:o,staticRenderFns:n};t.a=s},k3bD:function(e,t,i){t=e.exports=i("FZ+f")(!0),t.push([e.i,".dr-pagination{text-align:center;margin:15px auto}","",{version:3,sources:["C:/Users/Administrator/Desktop/git/web/ppxt-vue/src/components/pagination/pageLXL.vue"],names:[],mappings:"AACA,eACE,kBAAmB,AACnB,gBAAkB,CACnB",file:"pageLXL.vue",sourcesContent:["\n.dr-pagination {\r\n  text-align: center;\r\n  margin: 15px auto;\n}\r\n"],sourceRoot:""}])},kh5o:function(e,t,i){"use strict";function o(e){i("Bv2s")}Object.defineProperty(t,"__esModule",{value:!0});var n=i("sU/g"),s=i("YlHh"),r=i("VU/8"),a=o,l=r(n.a,s.a,!1,a,null,null);t.default=l.exports},kuYD:function(e,t,i){"use strict";t.a={props:{pageInfo:Object,pageType:String},methods:{nextPage:function(e){this.$store.dispatch(""+this.pageType,{pageInfo:{pageNum:e,pageSize:this.pageInfo.pageSize}})},nextPagePlus:function(e){this.$store.dispatch(""+this.pageType,{pageInfo:{pageNum:1,pageSize:e}})},handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.nextPagePlus(e)},handleCurrentChange:function(e){console.log("当前页: "+e),this.nextPage(e)},data:function(){return{}}},mounted:function(){console.log(this.pageInfo)}}},"sU/g":function(e,t,i){"use strict";var o=i("Dd8w"),n=i.n(o),s=i("//Fk"),r=i.n(s),a=i("woOf"),l=i.n(a),u=i("UH0y"),m=i("0FNB"),c=i("NYxO"),p=i("vLgD"),d=i("mw3O"),f=i.n(d);t.a={name:"grop",data:function(){return{editdialogFormVisible:!1,permissionFormVisible:!1,menuFormVisible:!1,groupForm:{},permissionForm:{role_id:"",permissionId:[]},rules:{},filterMethod:function(e,t){return t.desc.indexOf(e)>-1},menuForm:{},menuList:[],titleList2:["未选择路由","已选择路由"],titleList:[["未选操作订单","已选操作订单"],["未选操作客户","已选操作客户"],["未选操作用户","已选操作用户"],["未选操作杂项","已选操作杂项"],["未选展示订单","已选展示订单"],["未选展示客户","已选展示客户"],["未选展示用户","已选展示用户"],["未选展示杂项","已选展示杂项"]],permissionList:[[],[],[],[],[],[],[],[]],permissionID:[]}},methods:{editGroup:function(e,t){this.editdialogFormVisible=!0,this.permissionFormVisible=!0,l()(this.groupForm,t[e])},addInfo:function(){this.edit=!1,this.editdialogFormVisible=!0},beforSetMenu:function(e,t){this.menuFormVisible=!0,this.menuForm.role_id=t[e].role_id,console.log(this.menuForm)},setMenuSure:function(){var e=this;Object(p.a)({method:"post",url:"/permission/setMenu",data:f.a.stringify(this.menuForm)}).then(function(t){e.menuFormVisible=!1})},setPermission:function(e,t){this.permissionFormVisible=!0,alert(this.permissionFormVisible),this.permissionForm.role_id=t[e].role_id},setPermissionSure:function(){var e=this;Object(p.a)({method:"post",url:"/permission/setpermission",data:f.a.stringify(this.permissionForm)}).then(function(t){e.permissionFormVisible=!1})},removeByValue:function(e,t){for(var i=0;i<e.length;i++)if(e[i]==t){e.splice(i,1);break}},removeBigType:function(e){1===e.value?this.showhandle=!1:2===e.value&&(this.showshow=!1)},changePermission:function(e){console.log("this.permissionID",this.permissionID)},changeMenu:function(e){console.log("this.menuId",this.menuForm.menuId)},permissionbeforeclose:function(e){var t=this;return new r.a(function(e,i){t.adminformState={},e(!0)}).then(function(t){e()})},beforeclose:function(e){var t=this;return new r.a(function(e,i){t.adminformState={},e(!0)}).then(function(t){e()})},addGroup:function(){var e=this;Object(p.a)({method:"post",url:"/permission/addGroup",data:f.a.stringify(this.groupForm)}).then(function(t){e.editdialogFormVisible=!1,e.$store.dispatch("GetGroupnInfo")})},deleGroup:function(e,t){var i=this;this.$confirm("此操作将永久删除该分组, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(p.a)({method:"post",url:"/permission/deleGroup",data:f.a.stringify({role_id:t[e].role_id})}).then(function(){i.$store.dispatch("GetGroupnInfo",{pageInfo:{pageSize:i.$store.getters.groupPage.pageSize,pageNum:i.$store.getters.groupPage.pageNum}})})})}},computed:n()({},Object(c.b)(["groupInfo","groupPage"])),beforeCreate:function(){var e=this;this.$store.getters.groupInfo||this.$store.dispatch("GetGroupnInfo",{pageInfo:{pageSize:10,pageNum:1}}),Object(p.a)({method:"get",url:"/permission/AllPermission"}).then(function(t){console.log(t);for(var i=0;i<t.data.length;i++){var o=t.data[i].permissionSmallType;o>20?e.permissionList[o-17][e.permissionList[o-17].length]={value:t.data[i].id,desc:t.data[i].Pdesc}:e.permissionList[o-11][e.permissionList[o-11].length]={value:t.data[i].id,desc:t.data[i].Pdesc}}}),Object(m.c)().then(function(t){console.log(t);for(var i=0;i<t.data.list.length;i++)e.menuList[e.menuList.length]={value:t.data.list[i].id,desc:t.data.list[i].Mdesc}})},components:{Pagination:u.a}}}});